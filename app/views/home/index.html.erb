<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6">Welcome</h1>

  <% if user_signed_in? %>
    <p class="mb-4">Signed in as: <strong><%= current_user.email %></strong></p>
    <%= button_to "Sign out", destroy_user_session_path, method: :delete, class: "btn btn-primary" %>
  <% else %>
    <div class="space-y-4">
      <% if ENV["AZURE_CLIENT_ID"].present? %>
        <%= button_to "Sign in with Microsoft", user_entra_id_omniauth_authorize_path, data: { turbo: false }, class: "btn btn-primary" %>
        <p class="text-sm text-gray-600">or</p>
      <% end %>
      <%= link_to "Sign in with email", new_user_session_path, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>
